<!DOCTYPE html>
<html lang="en" ng-app="spreads">

  <head>
    <title>spreads</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <link rel="stylesheet" href="css/spreads.css">
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <script src="lib/angular.min.js"></script>
    <script src="js/app.js"></script>
    <script src="js/controllers.js"></script>
    <script src="js/services.js"></script>

    <!--[if lt IE 9]>
      <script src="../../assets/js/html5shiv.js"></script>
      <script src="../../assets/js/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>

    <header class="navbar navbar-default" role="navigation" ng-controller="StatusCtrl">
      <div class="container">
        <div class="navbar-header">
          <a class="navbar-brand" href="#">spreads</a>
        </div>
        <p class="navbar-link navbar-right"><a data-toggle="modal" href="#{{(status.stepNum != 1) && 'configModal' || '';}}"><span class="glyphicon glyphicon-cog"></span></a></p>
      </div>
    </header> <!-- end navbar -->

    <div class="container">

      <div class="row-fluid" ng-controller="StatusCtrl">
        <div class="progress" style="width: 100%;">
          <div class="progress-bar" role="progressbar" aria-valuenow="{{ status.stepNum }}" aria-valuemin="0" aria-valuemax="5" style="width: {{ (status.stepNum/5)*100 }}%;">
            <span class="sr-only">Step {{ stepNum/5 }}</span>
          </div>
        </div>
      </div>

      <div class="row-fluid alerts" ng-controller="StatusCtrl">
        <div ng-repeat="msg in status.messages" ng-class="alert alert-dismissable {alert-danger: msg.level == 'error', alert-warning: msg.level == 'warning'}">
          <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
          {{ msg.message }}
        </div>
      </div>

      <div class="row-fluid" ng-view>
      </div>

    </div>

    <!-- Don't show if current page not in 'scan', 'download', 'review', 'submit' -->
    <div class="modal fade" id="configModal" tabindex="-1" role="dialog" aria-labelledby="configModalLabel" aria-hidden="true" ng-controller="SetupCtrl">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h4 class="modal-title">Project configuration</h4>
          </div>
          <div class="modal-body">
            <form role="form">
              <div class="form-group">
                <label for="projectName">Project name</label>
                <input type="text" class="form-control" id="projectName" placeholder="Project name">
              </div>
              <div class="checkbox">
                <label><input type="checkbox">Right pages first</label>
              </div>
              <div class="checkbox">
                <label><input type="checkbox">Inverse rotation</label>
              </div>
              <!-- TODO: Add options for various plugins, if enabled -->
            </form>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary">Save changes</button>
          </div>
        </div><!-- /.modal-content -->
      </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->

    <script src="lib/jquery.min.js"></script>
    <script src="lib/bootstrap.min.js"></script>

  </body>
</html>
